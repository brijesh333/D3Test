<html>

<head>
    <title>
        Force layout
    </title>
    <link rel="stylesheet" href="../css/style.css" type="text/css" />
    <!--<script src="../d3/d3.v4.js"></script>
    <script src="../d3/d3.v4.min.js"></script>-->
    <script src='http://d3js.org/d3.v3.min.js'></script>
</head>

<body>
    <script>
        var w = 600;
        var h = 300;
        var dataset = {
            nodes: [{
                name: "a"
            }, {
                name: "b"
            }, {
                name: "c"
            }, {
                name: "d"
            }, {
                name: "e"
            }, {
                name: "f"
            }, {
                name: "g"
            }, ],
            edges: [{
                source: 0,
                target: 1
            }, {
                source: 0,
                target: 2
            }, {
                source: 0,
                target: 3
            }, ]
        };
        var svg = d3.select("body")
            .append("svg")
            .attr("height", h)
            .attr("width", w)
        var force = d3.layout.force()
            .nodes(dataset.nodes)
            .links(dataset.edges)
            .size([w, h])
            .linkDistance([50])
            .gravity(0)
            //.linkstrength(0.1)
        force.charge(function(node) {
            return node.graph === 0 ? -30 : -300;
        });
        links = svg.selectAll('.link')
            .data(dataset)
            .enter().append('line')
            .attr('class', 'link')
            .attr('x1', function(d) {
                return dataset[d.source].x;
            })
            .attr('y1', function(d) {
                return dataset[d.source].y;
            })
            .attr('x2', function(d) {
                return dataset[d.target].x;
            })
            .attr('y2', function(d) {
                return dataset[d.target].y;
            });
        nodes = svg.selectAll('.node')
            .data(dataset)
            .enter().append('circle')
            .attr('class', 'node')
            .attr('r', w / 25)
            .attr('cx', function(d) {
                return d.x;
            })
            .attr('cy', function(d) {
                return d.y;
            });
        force.on('tick', stepForce);
    </script>
</body>

</html>
<html>

<head>
    <title> D3 test </title>
    <link rel="stylesheet" href="../css/style.css" type="text/css" />
    <script src="../d3/d3.v4.js"></script>
    <script src="../d3/d3.v4.min.js"></script>
    <style type="text/css">
        rect.hover {
            fill: orange;
        }
    </style>
</head>

<body>
    <script>
        var w = 500;
        var h = 100;
        var bar_paadding = 1;
        //var dataset = [5, 10, 15, 20];
        var dataset = [5, 10, 13, 19, 21, 25, 22, 18, 15, 13, 11, 12, 15, 20, 18, 17, 16, 18, 23, 25];
        var svg = d3.select("body")
            .append("svg")
            .attr("height", h)
            .attr("width", w);

        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", function(d, i) {
                return i * (w / dataset.length);
            })
            .attr("y", function(d) {
                return h - d * 4;
            })
            .attr("width", w / dataset.length - bar_paadding)
            .attr("height", function(d) {
                return d * 4;
            })
            //.attr("fill", "teal");
            .attr("fill", function(d) {
                return "rgb(0, 0, " + (d * 10) + ")";
            })
            .on("mouseover", function() {
                d3.select(this)
                    .attr("fill", "orange");
            })
            .on("mouseout", function(d) {
                d3.select(this)
                    .attr("fill", "rgb(0, 0, " + (d * 10) + ")");
            })

        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(function(d) {
                return d;
            })
            .attr("x", function(d, i) {
                return i * (w / dataset.length) + 5;
            })
            .attr("y", function(d) {
                return h - (d * 4) + 15;
            })
            .attr("font-family", "sans-serif")
            .attr("font-size", "11px")
            .attr("fill", "white");
    </script>

</body>

</html>